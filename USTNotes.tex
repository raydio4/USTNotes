\documentclass[12pt]{article}
\usepackage[a4paper,margin=1in]{geometry}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{setspace}
\usepackage{titlesec}
\usepackage{hyperref}
\usepackage{background}
\usepackage{listings}
\usepackage{xcolor}

\newcommand{\ClassName}{Operating System}
\newcommand{\Professor}{Dawen CHEN}
\newcommand{\ClassNum}{Comp 1111}
\newcommand{\Author}{Author}

% --- Custom Colors ---
\definecolor{codebg}{rgb}{0.97,0.97,0.97}
\definecolor{codeframe}{rgb}{0.7,0.7,0.7}

% Header/Footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{Lecture Notes for}
\fancyhead[R]{\textbf{\ClassName}}
\fancyfoot[C]{\thepage}

% Section formatting
\titleformat{\section}{\large\bfseries}{\thesection.}{1em}{}
\titleformat{\subsection}{\normalsize\bfseries}{\thesubsection}{1em}{}

% Listings setup for code display
\lstset{
  backgroundcolor=\color{codebg},
  frame=single,
  rulecolor=\color{codeframe},
  basicstyle=\ttfamily\normalsize,
  keywordstyle=\color{blue!70},
  commentstyle=\color{red!50!green!50!blue!50},
  frame=shadowbox,
  rulesepcolor=\color{red!20!green!20!blue!20},
  breaklines=true,
  columns=fullflexible,
  keepspaces=true,
  captionpos=b,
  aboveskip=1em,
  belowskip=1em,
  xleftmargin=1em,
  xrightmargin=1em,
  framerule=0.7pt,
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny,
}

\begin{document}

\backgroundsetup{contents={}} %turn off background on titlepage
% ---------------- COVER PAGE ----------------
\begin{titlepage}
    \centering
    \includegraphics[width=5cm]{UST.png}
    \par
    \vspace{1cm}
    {\Huge \bfseries \ClassName \par}
    {\Huge \bfseries \ClassNum \par}
    \vspace{1cm}
    {\Large Lecture Notes \par}
    \vspace{1cm}
    {\large Professor: \textbf{\Professor} \par}
    \vspace{0.5cm}
    {\large Author: \textbf{\Author} \par}
    \vfill
    {\large From \today \par}
    \vspace{0.5cm}
    {\large To \today \par}
\end{titlepage}

% ---------------- TABLE OF CONTENTS ----------------
\backgroundsetup{
    scale=0.75,
    angle=0,
    position=current page.center,
    opacity=0.4,
    contents={\includegraphics[height=\paperheight,width=\paperwidth]{background.png}}
}
\tableofcontents
\newpage

% ---------------- CONTENT ----------------
\section{Basic Usage}
\subsection{Subsection}
\textbf{You can use normal \LaTeX\ grammar inside this scope.}

\subsection{For example}
You can make an unordered list, like this:
\begin{itemize}
    \item This is the first item
    \item This is the second item
\end{itemize}

Or you can make an ordered list, like this:
\begin{enumerate}
    \item This is the first item
    \item This is the second item
\end{enumerate}

You can also insert a math formula both inline: $E = mc^2$ and centering $$E = mc^2$$

\subsection{Create a code block}
\begin{lstlisting}[language=C, caption={Example C code}]
#include <stdio.h>

int main() {
    printf("Hello HKUST\n"); // this is a comment
    return 0;
}
\end{lstlisting}

\begin{lstlisting}[language=Python, caption={Example Python code}]
print("Hello HKUST")
\end{lstlisting}

\end{document}
